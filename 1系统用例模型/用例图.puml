@startuml 学校教务管理系统用例图

left to right direction
skinparam packageStyle rectangle

actor "学生\n(Student)" as Student
actor "教师\n(Teacher)" as Teacher
actor "教务处\n(Academic Affairs)" as AcademicAffairs
actor "管理员\n(Administrator)" as Admin
actor "外部课程信息\n数据库系统\n(External Course DB)" as ExternalDB

rectangle "学校教务管理系统\n(Educational Administration Management System)" {
  
  ' ========== 公共用例 ==========
  usecase "UC01: 用户登录\n(User Login)" as UC01
  usecase "UC02: 修改密码\n(Change Password)" as UC02
  usecase "UC03: 更新个人信息\n(Update Personal Info)" as UC03
  
  ' ========== 学生用例 ==========
  usecase "UC04: 浏览和搜索课程\n(Browse and Search Courses)" as UC04
  usecase "UC05: 选课\n(Select Course)" as UC05
  usecase "UC06: 退课\n(Drop Course)" as UC06
  usecase "UC07: 查看成绩\n(View Grades)" as UC07
  usecase "UC08: 加入候补名单\n(Join Waitlist)" as UC08
  
  ' ========== 教师用例 ==========
  usecase "UC09: 录入成绩\n(Enter Grades)" as UC09
  usecase "UC10: 修改成绩\n(Modify Grades)" as UC10
  usecase "UC11: 成绩统计分析\n(Analyze Grade Statistics)" as UC11
  
  ' ========== 教务处用例 ==========
  usecase "UC12: 发布课程信息\n(Publish Course Information)" as UC12
  usecase "UC13: 管理课程计划\n(Manage Course Plans)" as UC13
  usecase "UC14: 处理特殊选课请求\n(Handle Special Course Requests)" as UC14
  usecase "UC15: 审批延期退课申请\n(Approve Late Drop Requests)" as UC15
  usecase "UC16: 设置选课规则\n(Set Course Selection Rules)" as UC16
  
  ' ========== 管理员用例 ==========
  usecase "UC17: 管理学生信息\n(Manage Student Information)" as UC17
  usecase "UC18: 管理教师信息\n(Manage Teacher Information)" as UC18
  usecase "UC19: 配置系统设置\n(Configure System Settings)" as UC19
  usecase "UC20: 审核成绩\n(Audit Grades)" as UC20
  usecase "UC21: 全局成绩统计分析\n(System-wide Grade Analysis)" as UC21
  usecase "UC22: 备份系统数据\n(Backup System Data)" as UC22
  
  ' ========== 系统集成用例 ==========
  usecase "UC23: 同步课程信息\n(Sync Course Information)" as UC23
  
  ' ========== 关系定义 ==========
  
  ' 学生关联
  Student --> UC01
  Student --> UC02
  Student --> UC03
  Student --> UC04
  Student --> UC05
  Student --> UC06
  Student --> UC07
  
  ' 教师关联
  Teacher --> UC01
  Teacher --> UC02
  Teacher --> UC03
  Teacher --> UC09
  Teacher --> UC10
  Teacher --> UC11
  
  ' 教务处关联
  AcademicAffairs --> UC12
  AcademicAffairs --> UC13
  AcademicAffairs --> UC14
  AcademicAffairs --> UC15
  AcademicAffairs --> UC16
  
  ' 管理员关联
  Admin --> UC17
  Admin --> UC18
  Admin --> UC19
  Admin --> UC20
  Admin --> UC21
  Admin --> UC22
  
  ' 外部系统关联
  ExternalDB --> UC23
  
  ' Include关系 - 选课和浏览课程需要同步课程信息
  UC04 ..> UC23 : <<include>>
  UC05 ..> UC23 : <<include>>
  
  ' Include关系 - 发布和管理课程需要同步
  UC12 ..> UC23 : <<include>>
  UC13 ..> UC23 : <<include>>
  
  ' Extend关系 - 选课时如果课程已满可以加入候补
  UC08 ..> UC05 : <<extend>>
  
  ' Include关系 - 审批退课申请涉及退课流程
  UC15 ..> UC06 : <<include>>
  
  ' Include关系 - 管理员审核成绩后才能让学生查看
  UC07 ..> UC20 : <<include>>
}

note right of UC05
  选课需满足先修课程要求、
  选课人数限制等条件
end note

note right of UC06
  选课截止日期前可无条件退课，
  截止后需审批
end note

note bottom of UC23
  与外部课程信息数据库系统
  进行实时同步与共享
end note

@enduml

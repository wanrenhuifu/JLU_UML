# 1.2 用例规约

本章节详细描述了学校教务管理系统中各个用例的规约。

---

## 1. 公共用例 (Common Use Cases)

### UC01: 用户登录 (User Login)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC01 |
| **名称** | 用户登录 |
| **参与者** | 学生、教师、教务处、管理员 |
| **描述** | 用户通过输入账号和密码进入系统。 |
| **前置条件** | 用户已拥有系统账号。 |
| **基本流** | 1. 用户进入登录界面。<br>2. 用户输入账号和密码。<br>3. 系统验证账号和密码。<br>4. 验证通过，进入系统主页。 |
| **备选流** | 3a. 账号或密码错误：提示错误信息，允许重试。 |
| **后置条件** | 用户成功登录并获得相应权限。 |

### UC02: 修改密码 (Change Password)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC02 |
| **名称** | 修改密码 |
| **参与者** | 学生、教师、管理员 |
| **描述** | 用户在登录后修改其登录密码。 |
| **前置条件** | 用户已登录系统。 |
| **基本流** | 1. 用户进入修改密码页面。<br>2. 输入原密码、新密码和确认新密码。<br>3. 系统验证原密码正确且两次新密码一致。<br>4. 系统更新密码并提示成功。 |
| **备选流** | 3a. 原密码错误：提示错误。<br>3b. 两次新密码不一致：提示错误。 |
| **后置条件** | 系统保存新密码，下次登录生效。 |

### UC03: 更新个人信息 (Update Personal Info)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC03 |
| **名称** | 更新个人信息 |
| **参与者** | 学生、教师 |
| **描述** | 用户更新其基本联系信息，如电话、邮箱、住址等。 |
| **前置条件** | 用户已登录系统。 |
| **基本流** | 1. 用户查看个人信息页面。<br>2. 点击修改，填写新的联系方式、住址或研究方向（教师）。<br>3. 点击保存。<br>4. 系统更新数据。 |
| **备选流** | 3a. 输入格式不合法（如邮箱格式）：提示修改。 |
| **后置条件** | 个人信息已更新。 |

---

## 2. 学生用例 (Student Use Cases)

### UC04: 浏览和搜索课程 (Browse and Search Courses)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC04 |
| **名称** | 浏览和搜索课程 |
| **参与者** | 学生、外部课程信息数据库系统（次要） |
| **描述** | 学生查询系统中的课程列表及详细信息。 |
| **前置条件** | 用户以学生身份登录。 |
| **基本流** | 1. 学生进入课程查询页面。<br>2. 系统从外部数据库同步/读取最新课程列表（包含 UC23）。<br>3. 学生输入筛选条件（名称、代码、学分、教师等）。<br>4. 系统展示匹配的课程列表。<br>5. 学生点击某门课程查看详细信息（简介、大纲、教材等）。 |
| **备选流** | 4a. 未搜索到匹配课程：显示“无结果”。 |
| **后置条件** | 无。 |

### UC05: 选课 (Select Course)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC05 |
| **名称** | 选课 |
| **参与者** | 学生、外部课程信息数据库系统（次要） |
| **描述** | 学生在选课期间选择想要修读的课程。 |
| **前置条件** | 1. 在规定的选课时间段内。<br>2. 学生已登录。 |
| **基本流** | 1. 学生搜索到目标课程。<br>2. 系统显示剩余名额。<br>3. 学生点击选课。<br>4. 系统校验前置课程要求及时间冲突。<br>5. 校验通过，系统更新选课人数，记录选课信息。<br>6. 向外部系统同步（包含 UC23）。 |
| **备选流** | 2a. 名额已满：学生可选择加入候补名单（扩展 UC08）。<br>4a. 不满足先修课要求：提示无法选课。<br>4b. 时间冲突：提示课程时间冲突。 |
| **后置条件** | 选课记录已由系统保存。 |

### UC06: 退课 (Drop Course)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC06 |
| **名称** | 退课 |
| **参与者** | 学生、教务处（审批时） |
| **描述** | 学生放弃已选修的课程。 |
| **前置条件** | 课程已选。 |
| **基本流** | 1. 学生查看已选课程列表。<br>2. 选择要退选的课程。<br>3. 如果在选课截止日期前，直接退选成功。<br>4. 系统更新选课名额，若有候补则自动补位。 |
| **备选流** | 3a. 截止日期后：学生需提交退课申请及原因，由教务处审批（UC15）。 |
| **后置条件** | 选课记录被移除或标记为退课，名额更新。 |

### UC07: 查看成绩 (View Grades)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC07 |
| **名称** | 查看成绩 |
| **参与者** | 学生 |
| **描述** | 学生在成绩发布后查询成绩和统计分析。 |
| **前置条件** | 管理员已审核通过并发布成绩（UC20）。 |
| **基本流** | 1. 学生进入成绩查询页面。<br>2. 系统展示各科平时分、期末分、总评。<br>3. 提供成绩排名及分析图表。 |
| **备选流** | 1a. 成绩尚未发布：提示“成绩暂未公布”。 |
| **后置条件** | 无。 |

### UC08: 加入候补名单 (Join Waitlist)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC08 |
| **名称** | 加入候补名单 |
| **参与者** | 学生 |
| **描述** | 当课程名额已满时，学生选择候补。 |
| **前置条件** | 选课操作（UC05）中课程名额已满所触发。 |
| **基本流** | 1. 学生在选课失败时看到“加入候补”选项。<br>2. 点击加入。<br>3. 系统记录候补顺序。<br>4. 当有人退课时，系统按顺序自动递补。 |
| **备选流** | 无。 |
| **后置条件** | 学生进入该课程的候补列表。 |

---

## 3. 教师用例 (Teacher Use Cases)

### UC09: 录入成绩 (Enter Grades)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC09 |
| **名称** | 录入成绩 |
| **参与者** | 教师 |
| **描述** | 教师在课程考试结束后录入学生的各项成绩。 |
| **前置条件** | 教师已登录，且在成绩录入截止日期前。 |
| **基本流** | 1. 教师选择所授课程。<br>2. 教师输入每个学生的平时成绩和期末考试成绩。<br>3. 系统自动计算总评成绩。<br>4. 教师点击保存并提交。 |
| **备选流** | 2a. 输入非法分数（如负数）：系统提示错误。 |
| **后置条件** | 系统保存成绩记录，等待审核。 |

### UC10: 修改成绩 (Modify Grades)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC10 |
| **名称** | 修改成绩 |
| **参与者** | 教师 |
| **描述** | 教师在截止日期前修正录入错误的成绩。 |
| **前置条件** | 1. 成绩已录入但尚未审核通过。<br>2. 在成绩录入截止日期前。 |
| **基本流** | 1. 教师进入成绩修改页面。<br>2. 修正特定学生的平时分或期末分。<br>3. 系统重新计算总评成绩并保存。 |
| **备选流** | 无。 |
| **后置条件** | 成绩已更新。 |

### UC11: 成绩统计分析 (Analyze Grade Statistics)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC11 |
| **名称** | 成绩统计分析 |
| **参与者** | 教师 |
| **描述** | 教师查看所授课程学生的成绩分布情况。 |
| **前置条件** | 成绩已录入。 |
| **基本流** | 1. 教师进入成绩统计页面。<br>2. 系统生成优秀率、及格率等报表。<br>3. 提供分数段分布直方图。 |
| **备选流** | 无。 |
| **后置条件** | 无。 |

---

## 4. 教务处用例 (Academic Affairs Use Cases)

### UC12: 发布课程信息 (Publish Course Information)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC12 |
| **名称** | 发布课程信息 |
| **参与者** | 教务处、外部课程信息数据库系统（次要） |
| **描述** | 教务处补充课程的教学大纲、计划和参考教材等明细。 |
| **前置条件** | 基础课程框架已同步。 |
| **基本流** | 1. 教务处选择具体课程。<br>2. 录入或编辑教学大纲、参考教材等内容。<br>3. 确认发布。<br>4. 向外部系统同步（包含 UC23）。 |
| **备选流** | 无。 |
| **后置条件** | 系统存储补充后的课程详情。 |

### UC13: 管理课程计划 (Manage Course Plans)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC13 |
| **名称** | 管理课程计划 |
| **参与者** | 教务处、外部课程信息数据库系统（次要） |
| **描述** | 调整课程的时间、地点、学分或授课教师。 |
| **前置条件** | 教务处人员已登录。 |
| **基本流** | 1. 查询目标课程计划。<br>2. 修改具体的开课信息（学分、教师、时间等）。<br>3. 系统校验冲突并更新。<br>4. 向外部系统同步（包含 UC23）。 |
| **备选流** | 3a. 时间或资源冲突：提示冲突，要求重新调整。 |
| **后置条件** | 课程计划已更新。 |

### UC14: 处理特殊选课请求 (Handle Special Course Requests)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC14 |
| **名称** | 处理特殊选课请求 |
| **参与者** | 教务处 |
| **描述** | 手动将特定学生加入课程列表中，通常用于解决特殊学业问题。 |
| **前置条件** | 教务处人员已登录。 |
| **基本流** | 1. 接收到特殊选课申请。<br>2. 进入后台选课处理页面。<br>3. 指定学生学号和课程代码进行强制关联。<br>4. 系统更新名额。 |
| **备选流** | 无。 |
| **后置条件** | 学生成功选入该课程。 |

### UC15: 审批延期退课申请 (Approve Late Drop Requests)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC15 |
| **名称** | 审批延期退课申请 |
| **参与者** | 教务处 |
| **描述** | 对退课截止日期后的退课申请进行审批。包含 UC06。 |
| **前置条件** | 学生已在截止日期后提交退课申请。 |
| **基本流** | 1. 教务处查看待审批退课列表。<br>2. 查看学生的申请理由及教师意见。<br>3. 点击“批准”或“驳回”。<br>4. 系统根据批准结果更新退课流程。 |
| **备选流** | 无。 |
| **后置条件** | 申请状态更新，若通过则学生成功退课并在 UC06 逻辑下释放名额。 |

### UC16: 设置选课规则 (Set Course Selection Rules)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC16 |
| **名称** | 设置选课规则 |
| **参与者** | 教务处 |
| **描述** | 设置全校或特定课程的选课硬性条件（如名额、先修课）。 |
| **前置条件** | 教务处人员已登录。 |
| **基本流** | 1. 选择全校全局规则或单门课程规则设置。<br>2. 设置名额上限、学分限制、先修课依赖。<br>3. 保存规则设置。 |
| **备选流** | 无。 |
| **后置条件** | 系统选课逻辑根据新规则进行校验。 |

---

## 5. 管理员用例 (Administrator Use Cases)

### UC17: 管理学生信息 (Manage Student Information)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC17 |
| **名称** | 管理学生信息 |
| **参与者** | 管理员 |
| **描述** | 维护学生的基本学籍和身份信息。 |
| **前置条件** | 管理员已登录。 |
| **基本流** | 1. 查询、添加、修改或删除学生档案。<br>2. 批量导入学生数据包。<br>3. 保存变更。 |
| **备选流** | 无。 |
| **后置条件** | 学生数据库状态更新。 |

### UC18: 管理教师信息 (Manage Teacher Information)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC18 |
| **名称** | 管理教师信息 |
| **参与者** | 管理员 |
| **描述** | 维护教师的基本人事和背景信息。 |
| **前置条件** | 管理员已登录。 |
| **基本流** | 1. 查询、添加、修改或删除教师档案。<br>2. 批量导入教师数据包。<br>3. 保存变更。 |
| **备选流** | 无。 |
| **后置条件** | 教师数据库状态更新。 |

### UC19: 配置系统设置 (Configure System Settings)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC19 |
| **名称** | 配置系统设置 |
| **参与者** | 管理员 |
| **描述** | 设置全局参数如选课时间、界面主题和公告。 |
| **前置条件** | 管理员已登录。 |
| **基本流** | 1. 进入系统配置中心。<br>2. 设置选课起止时间、成绩录入窗口。<br>3. 上传学校标志或修改主题色彩。<br>4. 发布系统公告。 |
| **备选流** | 无。 |
| **后置条件** | 系统运行参数更新，界面及公告生效。 |

### UC20: 审核成绩 (Audit Grades)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC20 |
| **名称** | 审核成绩 |
| **参与者** | 管理员 |
| **描述** | 对教师提交的成绩进行公正性和准确性审核。 |
| **前置条件** | 教师已提交成绩。 |
| **基本流** | 1. 管理员查看待审核成绩单。<br>2. 检查数据是否存在明显的异常偏差。<br>3. 选择“审核通过”或“不通过”。 |
| **备选流** | 3a. 审核不通过：打回给教师，要求重新核对、修改。 |
| **后置条件** | 审核通过后，该科成绩才允许学生查询（UC07）。 |

### UC21: 全局成绩统计分析 (System-wide Grade Analysis)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC21 |
| **名称** | 全局成绩统计分析 |
| **参与者** | 管理员 |
| **描述** | 跨学院、跨年级的综合成绩数据挖掘。 |
| **前置条件** | 数据已在审核完成后锁定。 |
| **基本流** | 1. 选择统计维度（学院、专业、学年）。<br>2. 系统生成多维度的分析报表报（平均分、及格率对比等）。 |
| **备选流** | 无。 |
| **后置条件** | 生成可导出的决策支持报表。 |

### UC22: 备份系统数据 (Backup System Data)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC22 |
| **名称** | 备份系统数据 |
| **参与者** | 管理员 |
| **描述** | 定期对核心业务数据进行快照和异地备份。 |
| **前置条件** | 管理员已登录。 |
| **基本流** | 1. 触发手动备份或配置自动备份策略。<br>2. 系统对数据库及附件进行归档加密存储。<br>3. 验证备份文件的完整性。 |
| **备选流** | 无。 |
| **后置条件** | 数据备份任务成功并记录备份日志。 |

---

## 6. 系统集成用例 (System Integration Use Case)

### UC23: 同步课程信息 (Sync Course Information)
| 项目 | 内容 |
| :--- | :--- |
| **ID** | UC23 |
| **名称** | 同步课程信息 |
| **参与者** | 外部课程信息数据库系统 |
| **描述** | 保持本地系统与外部数据库之间的数据一致性。 |
| **前置条件** | 外部系统接口可用。 |
| **基本流** | 1. 定期或按需触发接口调用。<br>2. 拉取外部系统的课程更新（或推送本地调整）。<br>3. 处理数据冲突，确保主键映射一致。<br>4. 更新本地数据库状态。 |
| **备选流** | 1a. 网络故障或认证失败：系统记录错误并进行指数级退避重试，同时触发管理员警报。 |
| **后置条件** | 两套系统的数据高度一致。 |

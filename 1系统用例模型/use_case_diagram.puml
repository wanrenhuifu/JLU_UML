@startuml 系统用例图
left to right direction
skinparam packageStyle rectangle

actor "学生" as Student
actor "教师" as Teacher
actor "教务处" as TAO
actor "管理员" as Admin
actor "外部课程数据库" as ExternalDB <<System>>

rectangle "学校教务管理系统" {
    usecase UC_Login as "登录"
    usecase UC_UserInfo as "修改密码/个人信息维护"
    
    rectangle "学生选课模块" {
        usecase UC_CourseSearch as "课程查询与筛选"
        usecase UC_CourseSelect as "选课"
        usecase UC_CourseDrop as "退课"
        usecase UC_GradeView as "成绩查询"
    }
    
    rectangle "教师成绩模块" {
        usecase UC_GradeInput as "成绩录入与修改"
        usecase UC_TeacherGradeAnalysis as "成绩分析"
    }
    
    rectangle "教务管理模块" {
        usecase UC_CourseAdmin as "课程信息发布与管理"
        usecase UC_SelectException as "选课异常处理"
        usecase UC_DropApprove as "退课审批"
        usecase UC_RuleSet as "选课规则设置"
    }
    
    rectangle "系统管理模块" {
        usecase UC_UserAdmin as "用户管理\n(学生/教师)"
        usecase UC_SysConfig as "系统配置"
        usecase UC_GradeAudit as "成绩审核"
        usecase UC_AdminGradeAnalysis as "成绩统计分析"
        usecase UC_Backup as "数据备份"
    }
}

Student --> UC_Login
Student --> UC_UserInfo
Student --> UC_CourseSearch
Student --> UC_CourseSelect
Student --> UC_CourseDrop
Student --> UC_GradeView

Teacher --> UC_Login
Teacher --> UC_UserInfo
Teacher --> UC_GradeInput
Teacher --> UC_TeacherGradeAnalysis

TAO --> UC_Login
TAO --> UC_CourseAdmin
TAO --> UC_SelectException
TAO --> UC_DropApprove
TAO --> UC_RuleSet

Admin --> UC_Login
Admin --> UC_UserAdmin
Admin --> UC_SysConfig
Admin --> UC_GradeAudit
Admin --> UC_AdminGradeAnalysis
Admin --> UC_Backup

UC_CourseSearch -- ExternalDB
UC_CourseAdmin -- ExternalDB

UC_CourseSelect ..> UC_CourseSearch : <<include>>
UC_DropApprove ..> UC_CourseDrop : <<extend>>
UC_GradeAudit ..> UC_GradeInput : <<extend>>

@enduml
